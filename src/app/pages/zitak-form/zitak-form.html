<div class="max-w-2xl mx-auto mt-10 p-6 bg-white rounded-xl shadow-lg border border-gray-100">
  <div class="border-b pb-4 mb-6">
    <h2 class="text-3xl font-extrabold text-gray-800">
      {{ editatzen ? 'Zitaren Datuak Aldatu' : 'Zita Berria Sortu' }}
    </h2>
    <p class="text-gray-500 mt-1">Mesedez, bete formularioaren eremu guztiak.</p>
  </div>

  <form (ngSubmit)="gorde()" #zitaForm="ngForm">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-2">Izena</label>
        <input
          type="text"
          [(ngModel)]="zita.name"
          name="name"
          required
          placeholder="Adib: Mikel"
          class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        >
      </div>

      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-2">Data</label>
        <input
          type="date"
          [(ngModel)]="zita.date"
          name="date"
          required
          class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        >
      </div>

      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-2">Hasiera Ordua</label>
        <input
          type="time"
          [(ngModel)]="zita.start_time"
          name="start_time"
          required
          class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        >
      </div>

      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-2">Amaiera Ordua</label>
        <input
          type="time"
          [(ngModel)]="zita.end_time"
          name="end_time"
          required
          class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        >
      </div>

      <div class="flex flex-col">
        <label class="font-semibold text-gray-700 mb-2">Eserlekua</label>
        <input
          type="number"
          [(ngModel)]="zita.seat"
          name="seat"
          required
          min="1"
          class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        >
      </div>

      <!-- Bezeroa aukeratzeko desplegagarria -->
      <div class="flex flex-col" *ngIf="!editatzen">
        <label class="font-semibold text-gray-700 mb-2">Bezeroa</label>
        <select
          [(ngModel)]="selectedClientId"
          name="clientId"
          required
          class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        >
          <option [value]="0" disabled>Aukeratu bezeroa...</option>
          <option *ngFor="let bezeroa of bezeroak" [value]="bezeroa.id">
            {{ bezeroa.name }} {{ bezeroa.surname }}
          </option>
        </select>
      </div>

      <div class="flex flex-col md:col-span-2">
        <label class="font-semibold text-gray-700 mb-2">Zerbitzua / Iruzkina</label>
        <textarea
          [(ngModel)]="zita.comment"
          name="comment"
          rows="3"
          placeholder="Zerbitzuaren deskribapena..."
          class="p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none transition"
        ></textarea>
      </div>

    </div>

    <div class="mt-8 flex gap-4">
      <button
        type="submit"
        [disabled]="!zitaForm.form.valid || (!editatzen && selectedClientId === 0)"
        class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition shadow-md active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed">
        {{ editatzen ? 'Gorde Aldaketak' : 'Sortu Zita' }}
      </button>
      <button
        type="button"
        (click)="utzi()"
        class="flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold py-3 px-6 rounded-lg transition shadow-md active:scale-95">
        Utzi
      </button>
    </div>
  </form>
</div>
